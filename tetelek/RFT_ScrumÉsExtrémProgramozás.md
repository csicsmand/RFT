# Scrum és extrém programozás

## Scrum
**Szereplők:**
- Scrum mester
- Terméktulajdonos (Product Owner)
- Csapat (Team)
- Üzleti szereplők (Stakeholders)
- Menedzsment (Managers) 

*Scrum mester:* Felügyeli és megkönnyíti a folyamat fenntartását, segíti a csapatot, ha problémába ütközik, illetve felügyeli, hogy mindenki betartja-e a Scrum alapvető szabályait. Ilyen például, hogy a Sprint időtartama nem térhet el az előre megbeszélttől, még akkor sem, ha az elvállalt munka nem lesz kész. Akkor is nemet kell mondania, ha a Product Owner a sprint közben azt találja ki, hogy az egyik sztorit, amit nem vállaltak be az adott időszakra, el kellene készíteni, mert mondjuk megváltoztak az üzleti körülmények. Lényegében ő a projekt menedzser.

*Termék tulajdonos:* A megrendelő szerepét tölti be, ő a felelős azért, hogy a csapat mindig azt a részét fejlessze a terméknek, amely éppen a legfontosabb, vagyis a felhasználói sztorik fontossági sorrendbe állítása a feladata a Product Backlog-ban. A Product Owner és a Scrum Master nem lehet ugyanaz a személy. 

*Csapat:* Ők a felelősek azért, hogy az aktuális sprintre bevállalt feladatokat elvégezzék, ideális esetben 5-9 fő alkot egy csapatot. A csapatban helyet kapnak a fejlesztők, tesztelők, elemzők.


*Üzleti szereplők:* Megrendelő által jön létre a projekt, ő az, aki majd a hasznát látja a termék elkészítésének, a Sprint Review során kap szerepet a folyamatban.

*Menedzsment:* Feladata a megfelelő környezet felállítása a csapatok számára. Általában a megfelelő környezeten túl a lehető legjobb környezet felállítására törekszenek.

**Megbeszélések:**
- Planning
- Baclog grooming/refinment
- Dialy meeting
- Review
- Retrospective 

*Sprint Planning Meeting:* Ezen a találkozón kell megbeszélni, hogy ki mennyi munkát tud elvállalni, majd ennek tudatában dönti el a csapat, hogy mely sztorikat vállalja be a következő sprintre. Emellett a másik lényeges dolog, hogy a csapat a Product Owner-rel megbeszéli, majd teljes mértékben megérti, hogy a vevő mit szeretne az adott sztoritól, így elkerülhetőek az esetleges félreértésekből adódó problémák. Amit meg kell vizsgálni, hogy a csapat hogyan teljesített az előző sprintben, vagyis túlvállalta-e magát vagy sem. Ha túl sok sztorit vállaltak el, akkor le kell vonni a következtetést, és a következő sprintre kevesebbet vállalni. Ez a probléma leginkább az új, kevéssé összeszokott csapatokra jellemző, ahol még nem tudni, hogy mennyi munkát bír elvégezni a csapat. Ellenkező esetben, ha alulvállalta magát egy csapat, akkor értelemszerűen többet vállaljon, illetve, ha ideális volt az előző sprint, akkor hasonló mennyiség a javasolt.

*Baclog grooming/refinment:* A Product Backlog finomítása a csapattal együtt, előfordulhat például, hogy egy taszk túl nagy, így story lesz belőle, és utána taszkokra bontva lesz feldolgozva. Ha elmarad, akkor a Sprint Planning hosszúra nyúlhat, valamint abban is nagy segítség, hogy a csapat tökéletesen megértse, hogy mit szeretne a megrendelő. 

*Daily meeting:* A sprint ideje alatt minden nap kell tartani egy rövid megbeszélést, ami maximum 15 perc, és egy előre megbeszélt időpontban, a csapattagok és a Scrum Master jelenlétében történik (mások is ott lehetnek, de nem szólhatnak bele). Érdekesség, hogy nem szabad leülni, mindenki áll, ezzel is jelezve, hogy ez egy rövid találkozó. 
*Három kérdésre kell válaszolnia a csapat tagjainak, ezek a következőek:*
- Mit csináltál a tegnapi megbeszélés óta?
- Mit fogsz csinálni a következő megbeszélésig? 
- Milyen akadályokba ütköztél az adott feladat megoldása során?

*Sprint Review Meeting:* Minden sprint végén összeülnek a szereplők, és megnézik, hogy melyek azok a sztorik, amelyeket sikerült elkészíteni, illetve az megfelel-e a követelményeknek. Ekkor a sztori állapotát készre állítják. Fontos, hogy egy sztori csak akkor kerülhet ebbe az állapotba, ha minden taszkja elkészült, és a Review-on elfogadták. Ezen a megrendelő is jelen van.

*Sprint Retrospective:* Ez az egyik legfontosabb meeting. A Scrum egyik legfontosabb funkciója, hogy felszínre hozza azokat a problémákat, amelyek hátráltatják a fejlesztőket a feladatmegoldásban, így ha ezeket az akadályokat megoldjuk, a csapat jobban tud majd alkalmazkodni a következő sprint alatt a feladathoz. Problémák a Daily Meetingen is előkerülnek, de  ott inkább a személyeket érintő kérdések vannak napirenden, míg itt a csapatmunka továbbfejlesztése az elsődleges. 

**Termékek:**
- Product Backlog
- Sprint Backlog
- Burn dawn chart

*Product Backlog:* Ez az a dokumentum, ahol a Product Owner elhelyezi azokat az elemeket, más néven sztorikat, amelyeket el kell készíteni. Ez egyfajta kívánságlista. A Product Owner minden sztorihoz prioritást, fontossági sorrendet rendel, így tudja szabályozni, hogy melyeket kell elsősorban elkészíteni, így a Sprint Planning során a csapattagok láthatják, hogy ami a Backlogban legfelül van, azt szeretné a vevő leghamarabb készen látni, annak van a legnagyobb üzleti értéke. Emellett a csapatok súlyozzák az elemeket, aszerint, hogy melynek az elkészítéséhez kell a kevesebb munka, így azonos prioritás mellett a kevesebb munkát igénylő elemnek nagyobb a befektetés megtérülése (Return of Investment, ROI). Az üzleti érték meghatározása a Product Owner, a munka megbecslése a csapat feladata. A kettő hányadosa a ROI. 

*Sprint Backlog:* Ebben a dokumentumban az aktuális sprintre bevállalt munkák, storyk vannak felsorolva, ezeket kell adott időn belül a csapatnak megvalósítania. A sztorik tovább vannak bontva taszkokra, és ezeket a taszkokat vállalják el a tagok a Daily Meeting során. Ez a feldarabolása a feladatoknak azok minél jobb megértését segíti.

*Burn down chart:* Ez egy diagram, amely segít megmutatni, hogy az ideális munkatempóhoz képest hogyan halad a csapat az aktuális sprinten belül. Könnyen leolvasható róla, hogy a csapat éppen elakadt-e egy ponton, akár arra is lehet következtetni, hogy ilyen iramban kész lesz-e minden a sprint végére. Vagy éppen ellenkezőleg, sikerült felgyorsítani az iramot, és időben, vagy akár kicsit hamarabb is kész lehet a bevállalt munka.

**Menete:**
A Product Owner létrehoz egy Product Backlog-ot, amelyre a teendőket felhasználói sztoriként veszi fel. A sztorikat prioritással kell ellátni és megmondani, mi az üzleti értékük. Ez a Product Owner feladata. A Sprint Planning Meetingen a csapat tagjai megbeszélik, hogy mely sztorik megvalósítását vállalják el, lehetőleg a legnagyobb prioritásúakat. Ehhez a sztorikat kisebb feladatokra bontják, hogy megbecsülhessék mennyi ideig tart megvalósítani azokat. Ezután jön a sprint, ami 2-4 hétig tart. A sprint időtartamát az elején fixálja a csapat, ettől eltérni nem lehet. Ha nem sikerül befejezni az adott időtartam alatt, akkor sikertelen a sprint, ami büntetést, általában prémium megvonást, von maga után. A sprinten belül a csapat és a Scrum Master naponta megbeszélik a történteket a Daily Meetingen. Itt mindenki elmondja, hogy mit csinált, mi lesz a következő feladata, és milyen akadályokba (impediment) ütközött. A sprint végén következik a Sprint Review, ahol a csapat bemutatja a sprint alatt elkészült sztorikat. Ezeket vagy elfogadják, vagy nem. Majd a Sprint Retrospective találkozó következik, ahol a Sprint során felmerült problémákat tárgyalja át a csapat. A megoldásra konkrét javaslatokat kell 49 tenni. Ezek után újra a Sprint Planning Meeting következik. A fejlesztett termék az előtt piacra kerülhet, hogy minden sztorit megvalósítottak volna.

## Extrém programozás

Az extrém programozás akkor működik jól, ha a megrendelő biztosítani tud egy munkatársat, aki átlátja a megrendelő folyamatait, tudja, mire van szükség. Ha a változó, vagy a menet közben kiderített követelmények miatt gyakran át kell írni már elkészült részeket, akkor az extrém programozás nagyon rossz választás. Kezdő programozók esetén az extrém programozás nem alkalmazható, mert nincs elég tapasztalatuk az extrém módszerek alkalmazásához. Az extrém programozás legnagyobb erénye, hogy olyan fejlesztési módszereket hozott a felszínre, amik magas minőséget biztosítanak. Ezek, mint pl. a páros programozás, nagyon népszerűek lettek.

**Az extrém programozás értékei:**

- *Kommunikáció:* Egy fejlesztő csapat akkor tud hatékonyan működni, ha megbeszélik a terveket, a felmerülő problémákat és megoldásokat. Más módszertanokban ezt helyettesíti a dokumentáció. Az extrém programozás szerint a dokumentumokat nem olvassák el az emberek, ezért jobb, ha mindenki szóban osztja meg a tudását a kollégáival.

- *Egyszerűség:* Az extrém programozás azt ajánlja, hogy mindig a legegyszerűbb megoldásból induljunk ki. Ehhez adjuk az extra funkciókat később. Ez magában hordozza azt a lehetőséget, hogy egy-egy új funkció bevezetéséhez újra kell írni a rendszert, de ezt a lehetőséget kompenzálja egy másik lehetőség. Lehet, hogy sok időt kellene eltölteni egy minden funkció megoldásához szükséges terv kidolgozásával egy problémás funkció miatt, amikor később kiderülhet, hogy a problémás funkcióra nincs is szükség. 

- *Visszacsatolás:* Többféle visszacsatolásról beszélhetünk, amik alapján javíthatjuk a rendszert: 
    - *Visszacsatolás a rendszer felől:* Mivel sok unit-tesztünk van, és folyamatos integrációs tesztet végzünk, ezért a programozók tudják, milyen állapotban van a kód, mennyi hiba van benne. Az elfogadási tesztek alapján lehet tudni, milyen messze vagyunk a kiszállítható megoldástól.

    - *Visszacsatolás a megrendelő felől:* A gyakori prototípus bemutatások alkalmával a megrendelő elmondhatja, hogy mit vár másképp, illetve mit vár még el a rendszertől.

    - *Visszacsatolás a csapat felől:* Ha a megrendelőnek van egy új igénye, akkor az úgynevezett Planning Game alkalmával a csapat elmondja, hogy ennek mennyi a becsült kifejlesztési ideje.

- *Bátorság:* Sok extrém módszer igényel bátorságot. Például a „programozz a mának ne a holnapnak” azt feltételezi, hogy elég bátrak vagyunk a legegyszerűbb megoldást választani, amikor lehet, hogy holnap az egészet újra kell írnunk egy új követelmény miatt. Bátorság kell a meglévő kód szépítéséhez is, hiszen gyakran valaki másnak a kódját kell szépíteni.

- *Tisztelet:* A csapat tagjai tisztelik egymást, mások és a saját munkáját. Ennek megfelelően nem szabad olyan kódot feltölteni a verziókövető rendszerbe, ami nem megy át unitteszteken, hiszen ekkor mindenki más elkezdi keresni, hogy mi lehet a hiba. A saját kódját az ember azzal tiszteli, hogy a legnagyobb minőségre, átláthatóságra, könnyen érthetőségre törekszik. A csapat egyik tagja sem érezheti magát másodrendűnek vagy megtűrtnek. Ez segíti, hogy a csapat tagjai motiváltak legyenek.

**Az extrém programozás technikái:**

- *Páros programozás (pair programming):* Két programozó ír egy kódot, pontosabban az egyik írja, a másik figyeli. Ha a figyelő hibát lát vagy nem érti a kódot, akkor azonnal szól. A két programozó folyamatosan megbeszéli, hogy hogyan érdemes megoldani az adott problémát.

- *Teszt vezérelt fejlesztés (test driven development):* Már a metódus elkészítése előtt megírjuk a hozzá tartozó unit-teszteket. Ezt néha hívják „először a teszt” (test-first) megközelítésnek is. 

- *Forráskód átnézés (code review):* Az elkészült nagyobb modulokat, pl. osztályokat, egy vezető fejlesztő átnézi, hogy van-e benne hiba, nem érthető, nem dokumentált rész. A modul fejlesztői elmagyarázzák mit és miért csináltak. A vezető fejlesztő elmondja, hogyan lehet ezt jobban, szebben csinálni.

- *Folyamatos integráció (continuous integration):* A nap (vagy a hét) végén, a verziókövető rendszerbe bekerült kódokat integrációs teszt alá vetjük, hogy kiderüljön, hogy azok képeseke együttműködni. Így nagyon korán kiszűrhető a programozók közti félreértés. 

- *Kódszépítés (refactoring):* A már letesztelt, működő kódban lehet szépíteni, az esetleg lassú, rugalmatlan, vagy egyszerűen csak csúnya részeket. A kódszépítés előfeltétele, hogy legyen sok unit-teszt. A szépítés során nem szabad megváltoztatni a kód funkcionalitását, de a szerkezet, pl. egy metódus törzse, szabadon változtatható. A szépítés után minden unittesztet le kell futtatni, nem csak a megváltozott kódhoz tartozókat, hogy lássuk, a változások okoztak-e hibát.





